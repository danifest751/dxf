<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ö–æ–º–ø–ª–µ–∫—Å–Ω—ã–π —Ç–µ—Å—Ç –∫–∏—Ä–∏–ª–ª–∏—á–µ—Å–∫–æ–≥–æ —Ç–µ–∫—Å—Ç–∞ –≤ PDF</title>
    <style>
        body { 
            font-family: Arial, sans-serif; 
            padding: 20px; 
            background: #fff; 
            color: #333; 
            max-width: 900px;
            margin: 0 auto;
        }
        .test-section { 
            margin: 20px 0; 
            padding: 20px; 
            background: #f8f9fa; 
            border-radius: 8px; 
            border-left: 4px solid #007bff;
        }
        .example { 
            background: #ffffff; 
            padding: 15px; 
            border-radius: 4px; 
            margin: 10px 0; 
            border: 1px solid #dee2e6;
            font-family: 'Courier New', monospace;
        }
        .russian { 
            color: #007bff; 
            font-weight: bold; 
        }
        .status {
            padding: 10px;
            border-radius: 4px;
            margin: 10px 0;
        }
        .success {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        .info {
            background: #d1ecf1;
            color: #0c5460;
            border: 1px solid #bee5eb;
        }
        .warning {
            background: #fff3cd;
            color: #856404;
            border: 1px solid #ffeaa7;
        }
        button { 
            padding: 10px 20px; 
            margin: 10px 5px; 
            border: none; 
            border-radius: 4px; 
            background: #007bff; 
            color: white; 
            cursor: pointer; 
            font-size: 16px;
        }
        button:hover { background: #0056b3; }
        button:disabled { background: #6c757d; cursor: not-allowed; }
        .test-result {
            margin: 15px 0;
            padding: 10px;
            border-radius: 4px;
        }
        .pass {
            background: #d4edda;
            border: 1px solid #c3e6cb;
            color: #155724;
        }
        .fail {
            background: #f8d7da;
            border: 1px solid #f5c6cb;
            color: #721c24;
        }
    </style>
</head>
<body>
    <h1>üß™ –ö–æ–º–ø–ª–µ–∫—Å–Ω—ã–π —Ç–µ—Å—Ç –∫–∏—Ä–∏–ª–ª–∏—á–µ—Å–∫–æ–≥–æ —Ç–µ–∫—Å—Ç–∞ –≤ PDF</h1>
    
    <div class="status info">
        <h3>üîç –¶–µ–ª—å —Ç–µ—Å—Ç–∞</h3>
        <p>–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ä—É—Å—Å–∫–æ–≥–æ —Ç–µ–∫—Å—Ç–∞ –≤ PDF-–æ—Ç—á–µ—Ç–∞—Ö –±–µ–∑ —Ç—Ä–∞–Ω—Å–ª–∏—Ç–µ—Ä–∞—Ü–∏–∏.</p>
    </div>
    
    <div class="test-section">
        <h2>üî§ –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ</h2>
        
        <div class="example">
            <div><strong>–ó–∞–≥–æ–ª–æ–≤–∫–∏ –æ—Ç—á–µ—Ç–æ–≤:</strong></div>
            <div class="russian">DXF PRO - –û—Ç—á–µ—Ç –ø–æ —Ä–∞—Å–∫–ª–∞–¥–∫–µ</div>
            <div class="russian">–°–≤–æ–¥–∫–∞ –ø–æ —Ä–∞—Å–∫–ª–∞–¥–∫–µ</div>
            <div class="russian">–î–∞–Ω–Ω—ã–µ –ø–æ –¥–µ—Ç–∞–ª–∏</div>
            <div class="russian">–ò—Ç–æ–≥–æ–≤–∞—è —Å–≤–æ–¥–∫–∞</div>
        </div>
        
        <div class="example">
            <div><strong>–ü–∞—Ä–∞–º–µ—Ç—Ä—ã —Ä–∞—Å–∫–ª–∞–¥–∫–∏:</strong></div>
            <div class="russian">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ª–∏—Å—Ç–æ–≤: 2</div>
            <div class="russian">–≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å: 78.5%</div>
            <div class="russian">–†–∞–∑–º–µ—Ä –ª–∏—Å—Ç–∞: 1250 x 2500 –º–º</div>
            <div class="russian">–û—Ç—Å—Ç—É–ø: 10 –º–º</div>
            <div class="russian">–ó–∞–∑–æ—Ä: 2 –º–º</div>
        </div>
        
        <div class="example">
            <div><strong>–î–∞–Ω–Ω—ã–µ –ø–æ –¥–µ—Ç–∞–ª–∏:</strong></div>
            <div class="russian">[DXF] –§–∞–π–ª: –¥–µ—Ç–∞–ª—å_–Ω–æ–º–µ—Ä_–æ–¥–∏–Ω.dxf</div>
            <div class="russian">–î–ª–∏–Ω–∞ —Ä–µ–∑–∞: 2.450 –º</div>
            <div class="russian">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤—Ä–µ–∑–æ–∫: 8</div>
            <div class="russian">–¢–æ–ª—â–∏–Ω–∞: 3 –º–º</div>
            <div class="russian">–ú–æ—â–Ω–æ—Å—Ç—å –ª–∞–∑–µ—Ä–∞: 1.5 –∫–í—Ç</div>
        </div>
        
        <div class="example">
            <div><strong>–ò—Ç–æ–≥–æ–≤–∞—è —Å–≤–æ–¥–∫–∞:</strong></div>
            <div class="russian">–û–±—â–µ–µ –≤—Ä–µ–º—è —Ä–∞–±–æ—Ç: 45.20 –º–∏–Ω</div>
            <div class="russian">–û–±—â–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å: 850.50 ‚ÇΩ</div>
            <div class="russian">–û–±—â–∞—è –¥–ª–∏–Ω–∞ —Ä–µ–∑–∞: 12.450 –º</div>
        </div>
    </div>
    
    <div class="test-section">
        <h2>‚öôÔ∏è –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –∫–∏—Ä–∏–ª–ª–∏—Ü—ã</h2>
        
        <button id="runTest" onclick="runComprehensiveTest()">–ó–∞–ø—É—Å—Ç–∏—Ç—å –∫–æ–º–ø–ª–µ–∫—Å–Ω—ã–π —Ç–µ—Å—Ç</button>
        <button onclick="clearResults()">–û—á–∏—Å—Ç–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã</button>
        
        <div id="testResults"></div>
    </div>
    
    <div class="test-section">
        <h2>üìã –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –ø—Ä–æ–≤–µ—Ä–∫–µ</h2>
        <ol>
            <li>–û—Ç–∫—Ä–æ–π—Ç–µ –æ—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ DXF PRO</li>
            <li>–ó–∞–≥—Ä—É–∑–∏—Ç–µ DXF-—Ñ–∞–π–ª</li>
            <li>–í—ã–ø–æ–ª–Ω–∏—Ç–µ —Ä–∞—Å–∫–ª–∞–¥–∫—É –Ω–∞–∂–∞–≤ –∫–Ω–æ–ø–∫—É "üì¶ –†–∞—Å–∫–ª–∞–¥–∫–∞"</li>
            <li>–ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É "üìã PDF (–æ—Ç—á–µ—Ç)"</li>
            <li>–û—Ç–∫—Ä–æ–π—Ç–µ —Å–æ–∑–¥–∞–Ω–Ω—ã–π PDF-—Ñ–∞–π–ª</li>
            <li>–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Ä—É—Å—Å–∫–∏–π —Ç–µ–∫—Å—Ç –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ:</li>
            <ul>
                <li>–ó–∞–≥–æ–ª–æ–≤–∫–∏ —Å —Ä—É—Å—Å–∫–∏–º —Ç–µ–∫—Å—Ç–æ–º (–Ω–∞–ø—Ä–∏–º–µ—Ä, "–û—Ç—á–µ—Ç –ø–æ —Ä–∞—Å–∫–ª–∞–¥–∫–µ")</li>
                <li>–°–≤–æ–¥–∫–∞ —Å —Ä—É—Å—Å–∫–∏–º–∏ –º–µ—Ç–∫–∞–º–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, "–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ª–∏—Å—Ç–æ–≤", "–≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å")</li>
                <li>–ò–º–µ–Ω–∞ —Ñ–∞–π–ª–æ–≤ —Å —Ä—É—Å—Å–∫–∏–º–∏ —Å–∏–º–≤–æ–ª–∞–º–∏</li>
                <li>DXF-–∏–∫–æ–Ω–∫–∏ –≤ –≤–∏–¥–µ [DXF] —Ä—è–¥–æ–º —Å –∏–º–µ–Ω–∞–º–∏ —Ñ–∞–π–ª–æ–≤</li>
                <li>–ò—Ç–æ–≥–æ–≤–∞—è —Å–≤–æ–¥–∫–∞ —Å —Ä—É—Å—Å–∫–∏–º–∏ —Ç–µ—Ä–º–∏–Ω–∞–º–∏</li>
            </ul>
        </ol>
        
        <div class="status warning">
            <h3>‚ö†Ô∏è –ï—Å–ª–∏ —Ä—É—Å—Å–∫–∏–π —Ç–µ–∫—Å—Ç –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ:</h3>
            <ul>
                <li>–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç—É (–¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ jsPDF)</li>
                <li>–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –æ–±–Ω–æ–≤–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É –∏ –ø–æ–≤—Ç–æ—Ä–∏—Ç—å —ç–∫—Å–ø–æ—Ä—Ç</li>
                <li>–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –æ—à–∏–±–æ–∫</li>
                <li>–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –¥—Ä—É–≥–æ–π –±—Ä–∞—É–∑–µ—Ä (Chrome, Firefox, Edge)</li>
            </ul>
        </div>
    </div>
    
    <script>
        function clearResults() {
            document.getElementById('testResults').innerHTML = '';
        }
        
        async function runComprehensiveTest() {
            const resultsDiv = document.getElementById('testResults');
            resultsDiv.innerHTML = '';
            
            // Test 1: UTF-8 encoding support
            const test1 = document.createElement('div');
            test1.className = 'test-result';
            try {
                const encoder = new TextEncoder();
                const testString = '–û—Ç—á–µ—Ç –ø–æ —Ä–∞—Å–∫–ª–∞–¥–∫–µ';
                const encoded = encoder.encode(testString);
                test1.classList.add('pass');
                test1.innerHTML = `<strong>‚úÖ –¢–µ—Å—Ç 1 –ø—Ä–æ–π–¥–µ–Ω:</strong> UTF-8 –∫–æ–¥–∏—Ä–æ–≤–∫–∞ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è. –î–ª–∏–Ω–∞: ${encoded.length} –±–∞–π—Ç`;
            } catch (error) {
                test1.classList.add('fail');
                test1.innerHTML = `<strong>‚ùå –¢–µ—Å—Ç 1 –ø—Ä–æ–≤–∞–ª–µ–Ω:</strong> –û—à–∏–±–∫–∞ –∫–æ–¥–∏—Ä–æ–≤–∫–∏ UTF-8: ${error.message}`;
            }
            resultsDiv.appendChild(test1);
            
            // Test 2: Cyrillic character detection
            const test2 = document.createElement('div');
            test2.className = 'test-result';
            try {
                const cyrillicRegex = /[–ê-–Ø–∞-—è–Å—ë]/;
                const testString = '–°–≤–æ–¥–∫–∞ –ø–æ —Ä–∞—Å–∫–ª–∞–¥–∫–µ';
                const hasCyrillic = cyrillicRegex.test(testString);
                if (hasCyrillic) {
                    test2.classList.add('pass');
                    test2.innerHTML = `<strong>‚úÖ –¢–µ—Å—Ç 2 –ø—Ä–æ–π–¥–µ–Ω:</strong> –ö–∏—Ä–∏–ª–ª–∏—á–µ—Å–∫–∏–µ —Å–∏–º–≤–æ–ª—ã –æ–±–Ω–∞—Ä—É–∂–µ–Ω—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ`;
                } else {
                    test2.classList.add('fail');
                    test2.innerHTML = `<strong>‚ùå –¢–µ—Å—Ç 2 –ø—Ä–æ–≤–∞–ª–µ–Ω:</strong> –ö–∏—Ä–∏–ª–ª–∏—á–µ—Å–∫–∏–µ —Å–∏–º–≤–æ–ª—ã –Ω–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω—ã`;
                }
            } catch (error) {
                test2.classList.add('fail');
                test2.innerHTML = `<strong>‚ùå –¢–µ—Å—Ç 2 –ø—Ä–æ–≤–∞–ª–µ–Ω:</strong> –û—à–∏–±–∫–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫–∏—Ä–∏–ª–ª–∏—á–µ—Å–∫–∏—Ö —Å–∏–º–≤–æ–ª–æ–≤: ${error.message}`;
            }
            resultsDiv.appendChild(test2);
            
            // Test 3: Font support
            const test3 = document.createElement('div');
            test3.className = 'test-result';
            try {
                const canvas = document.createElement('canvas');
                const ctx = canvas.getContext('2d');
                if (ctx) {
                    ctx.font = '16px Helvetica, Arial, sans-serif';
                    const testText = '–≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å: 78.5%';
                    const width = ctx.measureText(testText).width;
                    test3.classList.add('pass');
                    test3.innerHTML = `<strong>‚úÖ –¢–µ—Å—Ç 3 –ø—Ä–æ–π–¥–µ–Ω:</strong> –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —à—Ä–∏—Ñ—Ç–æ–≤ –ø—Ä–æ–≤–µ—Ä–µ–Ω–∞. –®–∏—Ä–∏–Ω–∞ —Ç–µ–∫—Å—Ç–∞: ${width.toFixed(2)}px`;
                } else {
                    test3.classList.add('fail');
                    test3.innerHTML = `<strong>‚ùå –¢–µ—Å—Ç 3 –ø—Ä–æ–≤–∞–ª–µ–Ω:</strong> –ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–ª—É—á–∏—Ç—å –∫–æ–Ω—Ç–µ–∫—Å—Ç canvas`;
                }
            } catch (error) {
                test3.classList.add('fail');
                test3.innerHTML = `<strong>‚ùå –¢–µ—Å—Ç 3 –ø—Ä–æ–≤–∞–ª–µ–Ω:</strong> –û—à–∏–±–∫–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ —à—Ä–∏—Ñ—Ç–æ–≤: ${error.message}`;
            }
            resultsDiv.appendChild(test3);
            
            // Test 4: String manipulation
            const test4 = document.createElement('div');
            test4.className = 'test-result';
            try {
                const original = '–î–∞–Ω–Ω—ã–µ –ø–æ –¥–µ—Ç–∞–ª–∏';
                const processed = original.toUpperCase();
                if (processed === '–î–ê–ù–ù–´–ï –ü–û –î–ï–¢–ê–õ–ò') {
                    test4.classList.add('pass');
                    test4.innerHTML = `<strong>‚úÖ –¢–µ—Å—Ç 4 –ø—Ä–æ–π–¥–µ–Ω:</strong> –ö–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∫–∏—Ä–∏–ª–ª–∏—á–µ—Å–∫–∏—Ö —Å—Ç—Ä–æ–∫`;
                } else {
                    test4.classList.add('fail');
                    test4.innerHTML = `<strong>‚ùå –¢–µ—Å—Ç 4 –ø—Ä–æ–≤–∞–ª–µ–Ω:</strong> –ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∫–∏—Ä–∏–ª–ª–∏—á–µ—Å–∫–∏—Ö —Å—Ç—Ä–æ–∫: ${processed}`;
                }
            } catch (error) {
                test4.classList.add('fail');
                test4.innerHTML = `<strong>‚ùå –¢–µ—Å—Ç 4 –ø—Ä–æ–≤–∞–ª–µ–Ω:</strong> –û—à–∏–±–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å—Ç—Ä–æ–∫: ${error.message}`;
            }
            resultsDiv.appendChild(test4);
            
            // Final result
            const finalResult = document.createElement('div');
            finalResult.className = 'status';
            finalResult.classList.add('info');
            finalResult.innerHTML = '<h3>üèÅ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–æ</h3><p>–ï—Å–ª–∏ –≤—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ–π–¥–µ–Ω—ã —É—Å–ø–µ—à–Ω–æ, —Ä—É—Å—Å–∫–∏–π —Ç–µ–∫—Å—Ç –¥–æ–ª–∂–µ–Ω –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –≤ PDF-–æ—Ç—á–µ—Ç–∞—Ö.</p>';
            resultsDiv.appendChild(finalResult);
        }
        
        console.log('‚úÖ –ö–æ–º–ø–ª–µ–∫—Å–Ω—ã–π —Ç–µ—Å—Ç –∫–∏—Ä–∏–ª–ª–∏—á–µ—Å–∫–æ–≥–æ —Ç–µ–∫—Å—Ç–∞ –∑–∞–≥—Ä—É–∂–µ–Ω');
    </script>
</body>
</html>